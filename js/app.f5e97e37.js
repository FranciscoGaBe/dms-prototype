(function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],c=0,f=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},i=[];function a(e){return s.p+"js/"+({explorer:"explorer",fileInfo:"fileInfo",fileVersion:"fileVersion"}[e]||e)+"."+{explorer:"2c82d7aa",fileInfo:"089cff47",fileVersion:"b7ca2040"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(e);var l=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dms-prototype/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},2612:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n("fa7d"),o=n("604e"),i=n("9c57");const a={admin:{username:"admin",password:"admin",initials:"A",name:"Admin",favorites:[...Object(i["a"])().map(e=>({...e,type:"folder"})),...Object(o["b"])().map(e=>({...e,type:"file"}))]}},s=Object(r["b"])((e,t)=>{if(!a[e])throw new Error("Incorrect username");if(a[e].password!==t)throw new Error("Incorrect password");return!0}),u=Object(r["b"])(e=>a[e])},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=n("ecee"),i=n("c074"),a=n("ad3d");o["c"].add(i["a"]),r["a"].component("font-awesome-icon",a["a"]);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-gray-200 font-roboto text-gray-700 select-none overflow-hidden",attrs:{id:"app"}},[n("router-view")],1)},u=[],l=(n("034f"),n("2877")),c={},d=Object(l["a"])(c,s,u,!1,null,null,null),f=d.exports,p=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-full flex items-center justify-center flex-col"},[n("form",{staticClass:"bg-white p-4 rounded-sm shadow-md text-center w-64",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("h2",{staticClass:"text-4xl font-bold mb-4"},[e._v("DMS")]),e.error?n("div",{staticClass:"bg-red-500 text-white rounded my-2"},[e._v(e._s(e.error))]):e._e(),n("DMSInput",{staticClass:"w-full mb-2",attrs:{placeholder:"Username"},on:{input:e.onInput},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("DMSInput",{staticClass:"w-full mb-3",attrs:{type:"password",placeholder:"Password"},on:{input:e.onInput},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("DMSButton",{attrs:{block:"",disabled:e.disabled,loading:e.loading}},[e._v("Login")])],1),e._m(0)])},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-2 text-gray-400 text-center text-xs"},[n("p",[e._v("This is only a prototype, all the data is saved on memory until the page is closed.")]),n("p",[e._v("Username and password: "),n("b",[e._v("admin")])])])}],h=n("c670"),v=n("572b"),w=n("2612"),g={name:"Login",data:()=>({username:"",password:"",error:"",loading:!1}),components:{DMSButton:h["a"],DMSInput:v["a"]},computed:{disabled:function(){return!!this.loading||(!this.username||!this.password)}},methods:{onInput:function(){this.error=""},login:async function(){try{this.loading=!0;const e=await Object(w["b"])(this.username,this.password);if(!e)throw new Error("Something went wrong");this.loading=!1,this.$router.replace({name:"explorer",params:{folder:"@Home"}})}catch(e){this.error=e.message,this.loading=!1}}}},y=g,j=Object(l["a"])(y,m,b,!1,null,null,null),O=j.exports;const x=(e="",t)=>t.map(t=>({...t,path:`${e}/${t.path}`}));r["a"].use(p["a"]);const _=[{path:"/",name:"login",component:O},{path:"/explorer/:folder",name:"explorer",props:!0,component:()=>n.e("explorer").then(n.bind(null,"ba99")),children:x("file/:file",[{path:"info",name:"info",props:!0,component:()=>n.e("fileInfo").then(n.bind(null,"0898"))},{path:"version",name:"version",props:!0,component:()=>n.e("fileVersion").then(n.bind(null,"470b"))},{path:"metadata",name:"metadata",props:!0,component:()=>n.e("fileVersion").then(n.bind(null,"c4fb"))}])}],E=new p["a"]({routes:_});var S=E;n("ba8c"),n("d4b8");let D=null;r["a"].use({install:function(e){e.prototype.$alert=function(e){if(!D)throw new Error("There is no defined alert component");D.alert(e)},e.prototype.$setAlert=function(e){D=e}}}),r["a"].config.productionTip=!1,new r["a"]({router:S,render:function(e){return e(f)}}).$mount("#app")},"572b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",e._g(e._b({staticClass:"border border-gray-300 rounded px-2 py-0.5 outline-none focus:outline-none focus:border-gray-500 transition-all duration-300 ease-in-out",on:{input:e.onInput}},"input",e.$props,!1),e.listeners))},o=[],i={name:"DMSInput",props:{value:{default:""}},computed:{listeners:function(){const e={...this.$listeners};return e.input&&delete e.input,e}},methods:{onInput:function(e){this.$emit("input",e.currentTarget.value)}}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,null,null);t["a"]=u.exports},"604e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"l",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return h}));var r=n("fa7d");const o={},i=(e,t,n=[])=>{const i={id:Object(r["d"])(),name:e.name,parent:t,size:e.size,version:1,created:(new Date).getTime(),modified:(new Date).getTime(),favorite:!1,file:e,versions:[{version:1,status:"active",modifiedBy:"Admin",date:(new Date).getTime(),file:e}],metadata:n};return o[i.id]=i,i},a=(Object(r["b"])(i),Object(r["b"])(e=>{if(!o[e])throw new Error("File not found");return{...o[e],tabs:["info","data","version","metadata"]}})),s=e=>Object.values(o).filter(t=>t.parent===e),u=Object(r["b"])((e,t)=>{if(!o[e])throw new Error("File not found");return o[e].versions[0].status="expiring",o[e].version+=1,o[e].versions.unshift({version:o[e].version,status:"active",modifiedBy:"Admin",date:(new Date).getTime(),file:t}),o[e]}),l=Object(r["b"])((e,t)=>{if(!o[e])throw new Error("File not found");const n=o[e].versions.length;return o[e].versions[n-t].file}),c=e=>Object.values(o).filter(t=>t.metadata.some(({name:t,value:n})=>{const r=e[t];return!!r&&n.toLowerCase().includes(r.toLowerCase())})),d=Object(r["b"])((e,t,n)=>{if(!o[e])throw new Error("File not found");const r=o[e].metadata.find(e=>e.name===t);if(!r)throw new Error("Data not found");return r.value=n,r}),f=()=>Object.values(o).filter(e=>e.favorite),p=Object(r["b"])(e=>{if(!o[e])throw new Error("File not found");return delete o[e],!0}),m=a,b=a,h=a},"85ec":function(e,t,n){},"9c57":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n("fa7d"),o=n("604e");const i={},a=(e,t,n=Object(r["d"])())=>{if(!e)throw new Error("Name cannot be empty");if(t&&!i[t])throw new Error("Parent folder not found");const o={id:n,name:e,parent:t,modified:(new Date).getTime(),favorite:!1};return i[n]=o,o},s=Object(r["b"])(a),u=(e,t={})=>{if("@Search"===e)return{id:"@Search",name:"Search",parent:null,folders:[],files:Object(o["d"])(t)};if(!i[e])throw new Error("Folder not found");return i[e]},l=Object(r["b"])((e,t)=>{const n={...u(e,t)};return{folder:n.name,folders:Object.values(i).filter(t=>t.parent===e),files:Object(o["c"])(n.id),parentName:n.parent?i[n.parent].name:null,...n}}),c=Object(r["b"])(e=>{if(!i[e])throw new Error("Folder not found");return delete i[e],!0}),d=()=>Object.values(i).filter(e=>e.favorite),f=()=>{const e=a("Home",null,"@Home");e.modified=new Date(2022,3,5,19,54).getTime();const t=a("Child folder",e.id);t.modified=new Date(2022,3,5,19,56).getTime(),t.favorite=!0;const n=Object(o["a"])(new File(["Â© Francisco Garrido Bear"],"Copyright.txt",{type:"text/plain"}),e.id);n.favorite=!0,n.versions[0].modifiedBy="Francisco Garrido",n.versions[0].date=new Date(2022,3,5,19,58).getTime(),n.metadata=[{name:"Copyright by",value:"Francisco Garrido"},{name:"Github",value:"https://github.com/FranciscoGaBe/dms-prototype",link:!0},{name:"LinkedIn",value:"https://www.linkedin.com/in/francisco-garrido-679084198/",link:!0}]};f()},ba8c:function(e,t,n){},c670:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g({staticClass:"text-center text-white px-3 py-2 rounded transition-all duration-300 ease-in-out disabled:cursor-not-allowed disabled:bg-opacity-50 leading-none",class:["bg-"+e.color+"-600 hover:bg-"+e.color+"-500",e.block?"w-full":""]},e.$listeners),[e._t("default"),e.loading?n("font-awesome-icon",{staticClass:"ml-2 animate-spin",attrs:{icon:"spinner"}}):e._e()],2)},o=[],i={name:"DMSButton",props:{color:{type:String,default:"blue"},block:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,null,null);t["a"]=u.exports},fa7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));const r=e=>new Date(e).toLocaleString(),o=e=>{const t=["B","KB","MB","GB"];let n=e,r=0;while(n>=1e3&&r<t.length-1)n/=1e3,r++;return`${~~(100*n)/100} ${t[r]}`},i=(e,t=400,n=800)=>(...r)=>new Promise((o,i)=>{setTimeout(()=>{try{const t=e(...r);o(t)}catch(t){i(t)}},t+Math.random()*(n-t))}),a=(e=0,t=1)=>e+Math.floor(Math.random()*(t+1)),s=(e=5)=>Math.random().toString(36).substr(2,2+e)}});
//# sourceMappingURL=app.f5e97e37.js.map